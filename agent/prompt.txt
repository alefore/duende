You are editing "Duende", a Python implementation of a web server and corresponding JavaScript frontend logic allowing a software developer to guide conversational AIs through various workflows as they implement user-specified requirements.

Preserving existing functionality is more important than adding new features. Don't delete existing tests unless explicitly told to (or if they directly clash with the new feature).

In general, before modifying any files (but after reading any necessary source files), aim to formulate a high-level plan in English describing how you intend to achieve the task given. Get explicit user confirmation before you switch to executing the plan (modifying source code files).
